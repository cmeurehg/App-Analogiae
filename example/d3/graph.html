<!-- <!DOCTYPE html>
<html>
 
<head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
       
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/4.0.0/journal/bootstrap.min.css" />
        <title>Test App-Analogiae Page</title>
        
        <script src="https://d3js.org/d3.v5.js"></script>
        <script src="https://d3js.org/d3-force.v1.min.js"></script>
</head> -->

 <!-- <style>

        .link {
          stroke: #aaa;
        }
        
        .node text {
        stroke:#333;
        cursor:pointer;
        }
        
        .node circle{
        stroke:#fff;
        stroke-width:3px;
        fill:#555;
        }

        .circle{
            stroke:#fff;
        stroke-width:3px;
        fill:#555;
        }
        
</style>

 
 <body>
     
    <p>Hello!</p>

            

        <script>
        
                var width = 960,
                    height = 500
                
                var svg = d3.select("body").append("svg")
                    .attr("width", width)
                    .attr("height", height);
                
                var force = d3.forceSimulation()
                    .gravity(.05)
                    .distance(100)
                    .charge(-100)
                    .size([width, height]);
                
                d3.json("graphFile.json", function(json) { 
                    force
                    .nodes(json.nodes)
                    .links(json.links)
                    .start();
                
                var link = svg.selectAll(".link")
                    .data(json.links)
                    .enter().append("line")
                    .attr("class", "link")
                    .style("stroke-width", function(d) { return Math.sqrt(d.weight); });
                
                var node = svg.selectAll(".node")
                    .data(json.nodes)
                    .enter().append("g")
                    .attr("class", "node")
                    .call(force.drag);
                
                node.append("circle")
                    .attr("r","5");
                
                node.append("text")
                    .attr("dx", 12)
                    .attr("dy", ".35em")
                    .text(function(d) { return d.name });
                
                force.on("tick", function() {
                    link.attr("x1", function(d) { return d.source.x; })
                        .attr("y1", function(d) { return d.source.y; })
                        .attr("x2", function(d) { return d.target.x; })
                        .attr("y2", function(d) { return d.target.y; });
                
                    node.attr("transform", function(d) { return "translate(" + d.x + "," + d.y + ")"; });
                });
                });
        
        </script>   

   </body> -->
        <!-- <style>
                circle {
                fill: cadetblue;
                }
        </style>


         <body>
                               
                <div id="content">
                        <svg width="300" height="300"></svg>
                </div>
           
            <script>

                var width = 300, height = 300
                var nodes = [{}, {}, {}, {}, {}]

                var simulation = d3.forceSimulation(nodes)
                .force('charge', d3.forceManyBody())
                .force('center', d3.forceCenter(width / 2, height / 2))
                .on('tick', ticked);

                function ticked() {
                        var u = d3.select('svg')
                            .selectAll('circle')
                            .data(nodes)

                        u.enter()
                            .append('circle')
                            .attr('r', 5)
                            .merge(u)
                            .attr('cx', function(d) {
                            return d.x
                            })
                            .attr('cy', function(d) {
                            return d.y
                            })

                        u.exit().remove()
                };
                
            
                
            </script>





         </body>



 </html> -->

 <!DOCTYPE html>
<meta charset="utf-8">
<head>
  <title>Force layout (with links)</title>
</head>

<style>
circle {
  fill: cadetblue;
}
line {
  stroke: #ccc;
}
text {
  text-anchor: middle;
  font-family: "Helvetica Neue", Helvetica, sans-serif;
  fill: #666;
  font-size: 16px;
}
</style>

<body>
  <div id="content">
    <svg width="400" height="300">
      <g class="links"></g>
      <g class="nodes"></g>
    </svg>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.2.2/d3.min.js"></script>

  <script>
var width = 400, height = 300

var nodes = [
 {name: 'A'},
 {name: 'B'},
 {name: 'C'},
 {name: 'D'},
 {name: 'E'},
 {name: 'F'},
 {name: 'G'},
 {name: 'H'},
]

var links = [
  {source: 0, target: 1},
  {source: 0, target: 2},
  {source: 0, target: 3},
  {source: 1, target: 6},
  {source: 3, target: 4},
  {source: 3, target: 7},
  {source: 4, target: 5},
  {source: 4, target: 7}
]

var simulation = d3.forceSimulation(nodes)
  .force('charge', d3.forceManyBody().strength(-100))
  .force('center', d3.forceCenter(width / 2, height / 2))
  .force('link', d3.forceLink().links(links))
  .on('tick', ticked);

function updateLinks() {
  var u = d3.select('.links')
    .selectAll('line')
    .data(links)

  u.enter()
    .append('line')
    .merge(u)
    .attr('x1', function(d) {
      return d.source.x
    })
    .attr('y1', function(d) {
      return d.source.y
    })
    .attr('x2', function(d) {
      return d.target.x
    })
    .attr('y2', function(d) {
      return d.target.y
    })

  u.exit().remove()
}

function updateNodes() {
  u = d3.select('.nodes')
    .selectAll('text')
    .data(nodes)

  u.enter()
    .append('text')
    .text(function(d) {
      return d.name
    })
    .merge(u)
    .attr('x', function(d) {
      return d.x
    })
    .attr('y', function(d) {
      return d.y
    })
    .attr('dy', function(d) {
      return 5
    })

  u.exit().remove()
}

function ticked() {
  updateLinks()
  updateNodes()
}

  </script>
</body>
</html>
